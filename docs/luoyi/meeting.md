# 会议相关接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2020年07月03日|冷立纲|A|新增设计方案|1.0|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

直播会议相关接口

## 产品说明



## 关键流程说明

## 接口说明



#### 1.0 创建会议

##### 接口说明

创建会议

##### 请求说明

| http 请求方式          |post             |
|:------------- |:---------------:|
| url      |/meeting/create |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| type      | 否| int  |  会议类型 |    |
| privacyLevel      | 否 | string  |  私密等级 |  private/public   |
| content      | 是| string  |  会议主题 |   |
| verifyCode      | 否| string  |  验证码 | 私密空间必填   |
| mayStartTime      | 否| string  |  预约开始时间| 格式  yyyy-MM-dd HH:mm|
| userLimit      | 否| int  |  最多直播人数/默认30 |
| spearkerArray      | 是 | int[]  |   主讲人 数组 ，用户自己放第一个 |
| save      | 否 | boolean  |    是否保存录制 （默认否）|


#####  错误说明





#####  返回实例
```json
{
    "c": 0,
    "m": null,
    "d": {
        "id": 1
    }
}

```


#### 1.1 首页会议列表

##### 接口说明



##### 请求说明

| http 请求方式          |get             |
|:------------- |:---------------:|
| url      |/meeting/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| status      | 否| int  |  直播状态 |  0 预约 1 直播中 -1 结束 ，默认:直播中 |
| page      | 否 | int  |  分页 |  默认: 1  |
| limit      | 否 | int  |  条数限制 |  默认: 10  |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "total": 1,
        "currentPage": 1,
        "list": [
            {
                "id": 1,
                "type": 0,
                "content": "这是一次测试",
                "uid": 10002,
                "mayStartTime": 1616767200000, //预约时间戳 毫秒值
                "orgId": null,
                "userLimit": 30, //最多用户限制
                "startTime": null, //实际开始时间 毫秒值
                "endTime": null, //实际结束时间 毫秒值
                "subscribeCount": 0, //预约人数
                "playUrl": null, //回放地址
                "timeLen": null,  //时长
                "tags": null, //标签 
                "userBrief": [  //用户简介
                    {
                        "uid": 10002, //用户ID
                        "avatar": null, //头像
                        "name": null, //昵称
                        "jobTitle": null, //工作头衔
                        "meetingRole": 1 //用户角色  1 主播  2 嘉宾  0 普通用户
                    }
                ],
                "status": 0,  //查询的status 类型 0 预约  1 直播中  -1 结束
                "privacyLevel": "public"
            }
        ],
        "end": true,
        "status": 0,
        "empty": false,
        "startIndex": 0,
        "totalPage": 1
    }
}

```


#### 1.2 停止会议

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/stop |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```


#### 1.3 取消会议

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/cancel |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```


#### 1.4 会议举手上麦

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/handup |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```


#### 1.4 会议举手上麦

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/handup |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```



#### 1.5 会议举手列表

##### 接口说明



##### 请求说明

| http 请求方式          | get             |
|:------------- |:---------------:|
| url      |/meeting/handup/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |
| page      | 否 | int  |  分页 |  默认: 1  |
| limit      | 否 | int  |  条数限制 |  默认: 10  |



#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "total": 1,
        "currentPage": 1,
        "list": [
            {
                "uid": 10002,
                "avatar": null,
                "name": null,
                "jobTitle": null
            }
        ],
        "end": true,
        "empty": false,
        "startIndex": 0,
        "totalPage": 1
    }
}

```


#### 1.6 取消举手

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/handdown |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```


#### 1.6.1 拒绝举手

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/handup |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |
| uid      | 是| int  |  拒绝用户ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```



#### 1.7 会议邀请

##### 接口说明



##### 请求说明

| http 请求方式          | get             |
|:------------- |:---------------:|
| url      |/meeting/invite |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |
| meetingRole      | 是| int  |  邀请角色 | 0:普通用户  2:嘉宾   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        "id": 327,
        "content": "这是一次测试",
        "mayStartTime": 1616767200000,
        "inviteUrl": "http://dev-api.loyioa.com/invite/talk/327",
        "status": 1,
        "meetingRole": 2
    }
}

```


#### 1.8 接受邀请

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/invite/accept |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  邀请ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {

    }
}

```



#### 1.9 会议订阅

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/subscribe |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |
| value      | 是| boolean  |  订阅值 |  true 订阅 false 取消  |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {

    }
}

```



#### 2.0 会议相关数据

##### 接口说明



##### 请求说明

| http 请求方式          | get             |
|:------------- |:---------------:|
| url      |/meeting/data |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  会议ID |   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": [
        {
            "id": 1,
            "meetingId": 1,
            "name": "测试", //字段名
            "value": "测试", //字段值
            "uri": null, //跳转信息
            "type": 0, //类型信息
            "addTime": null, //添加时间
            "deleted": false
        }
    ]
}
```



#### 2.1 我的订阅

##### 接口说明



##### 请求说明

| http 请求方式          | get             |
|:------------- |:---------------:|
| url      |/meeting/subscribe/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否 | int  |  分页 | 默认1   |
| limit      | 否 | int  |  条数| 限制条数   |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "total": null,
        "currentPage": 1,
        "list": [
            {
                "uid": 10024,
                "avatar": null,
                "name": null,
                "content": "002",
                "meetingTime": 1617369960000,
                "meetingStatus": -1, //直播状态
                "status;" 0  //预约状态
            }
        ],
        "end": true,
        "empty": false,
        "startIndex": 0,
        "totalPage": null
    }
}

```


#### 2.2 删除订阅

##### 接口说明



##### 请求说明

| http 请求方式          | del             |
|:------------- |:---------------:|
| url      |/meeting/subscribe/del |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| meetingId      | 是 | int  |  会议ID |  |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        
    }
}

```


#### 2.2 进入直播房间

##### 接口说明



##### 请求说明

| http 请求方式          | put             |
|:------------- |:---------------:|
| url      |/meeting/enter |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是 | int  |  会议ID |  |
| code      | 否 | string  |  编码 |  |



#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
    
    
        
    }
}

```


#### 2.3 发送消息

##### 接口说明



##### 请求说明

| http 请求方式          | post             |
|:------------- |:---------------:|
| url      |/meeting/send_msg |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是 | int  |  会议ID |  |
| msg      | 是 | string  |  消息内容 |  |



#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        "id":1    
    }
}

```



#### 2.4 查看消息列表

##### 接口说明



##### 请求说明

| http 请求方式          | get             |
|:------------- |:---------------:|
| url      |/meeting/msg/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是 | int  |  会议ID |  |
| limit      | 否 |  int  |  分页条数 |  |
| page      | 否 |  int  |  分页 | 默认第一页  |



#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": [
        {
            "id":1,
            "meetingId":1, 
            "uid":1, 
            "jobTitle":"xxx", 
            "name":"xxx", 
            "msg":"xxx",   
            "addTime":1233333 
        }
    ]
    
}

```



#### 2.5 相关视频列表

##### 接口说明



##### 请求说明

| http 请求方式          |get             |
|:------------- |:---------------:|
| url      |/meeting/related_list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  直播id |  直播ID |
| page      | 否 | int  |  分页 |  默认: 1  |
| limit      | 否 | int  |  条数限制 |  默认: 10  |


#####  错误说明





#####  返回实例

```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "total": 1,
        "currentPage": 1,
        "list": [
            {
                "id": 1,
                "type": 0,
                "content": "这是一次测试",
                "uid": 10002,
                "mayStartTime": 1616767200000, //预约时间戳 毫秒值
                "orgId": null,
                "userLimit": 30, //最多用户限制
                "startTime": null, //实际开始时间 毫秒值
                "endTime": null, //实际结束时间 毫秒值
                "subscribeCount": 0, //预约人数
                "playUrl": null, //回放地址
                "timeLen": null,  //时长
                "tags": null, //标签 
                "userBrief": [  //用户简介
                    {
                        "uid": 10002, //用户ID
                        "avatar": null, //头像
                        "name": null, //昵称
                        "jobTitle": null, //工作头衔
                        "meetingRole": 1 //用户角色  1 主播  2 嘉宾  0 普通用户
                    }
                ],
                "status": 0,  //查询的status 类型 0 预约  1 直播中  -1 结束
                "privacyLevel": "public"
            }
        ],
        "end": true,
        "status": 0,
        "empty": false,
        "startIndex": 0,
        "totalPage": 1
    }
}

```

