# ç®¡ç†åå°

[TOC]
## ä¿®è®¢è®°å½•
----

æ—¥æœŸ | ä½œè€… | ä¿®è®¢ç±»å‹ | ä¿®è®¢å†…å®¹ | ç‰ˆæœ¬
---- | ---- | ---- | ---- | ---- |
2019å¹´10æœˆ21æ—¥|å†·ç«‹çº²|A|æ–°å¢è®¾è®¡æ–¹æ¡ˆ|1.0

> ã€ä¿®è®¢ç±»å‹ï¼šA-æ–°å¢  M-ä¿®æ”¹ D-åˆ é™¤ã€‘

## èƒŒæ™¯

ç³»ç»Ÿç®¡ç†ç›¸å…³æ¥å£

## äº§å“è¯´æ˜


## å…³é”®æµç¨‹è¯´æ˜

## æ¥å£è¯´æ˜


### é€šç”¨æ¥å£

-------




### ç®¡ç†æƒé™

-------


####  ç™»å½•éªŒè¯ç æ¥å£

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/admin/auth/login_code |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile   | æ˜¯ | string  |  ç™»é™†æ‰‹æœºå· |  |


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "smscode": "835898"  //æµ‹è¯•ç¯å¢ƒè¿”å›éªŒè¯ç ï¼Œçº¿ä¸Šå‘é€çŸ­ä¿¡éªŒè¯ç 
    }
}


```

#####  é”™è¯¯å®ä¾‹


ç™»å½•å¤±è´¥

```

{
    "c": 20023,
    "m": "ä¸€åˆ†é’Ÿåªèƒ½å‘é€ä¸€æ¬¡çŸ­ä¿¡",
    "d": null
}


```

####  ç™»é™†æ¥å£

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post   json           |
|:------------- |:---------------:|
| url      |/admin/login |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile   | æ˜¯ | string  |  ç™»é™†æ‰‹æœºå· |  |
| password   | æ˜¯ | string  |  ç™»é™†å¯†ç  |  |


##### è¯·æ±‚å®ä¾‹

```json

{
    "username":"15201008961",
    "password":"123456"
}

```


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "adminInfo": {
            "nickName": "xiaogang",
            "avatar": null
        }
    }
}

```


####  è´¦å·ç®¡ç†ï¼ˆåˆ—è¡¨ï¼‰

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/admin/admin/list |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| username   | å¦ | string  |  å§“å |  |
| page   | å¦ | int  |  åˆ†é¡µ |  |
| limit   | å¦ | int  |  å•é¡µæ¡æ•° |  |


#####  è¿”å›å®ä¾‹

```
{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "total": 2,
        "currentPage": 1,
        "list": [
            {
                "id": 3,
                "username": "xiaogang",
                "gender": null,
                "mobile": "15201008962",
                "password": "ae0a6d32ca6657556b2db2f876c9457d",
                "belongTo": null,
                "status": null,
                "privilege": null,
                "type": 0,
                "addTime": 1593442945017,
                "updateTime": 1593443991022,
                "roleIds": [
                    2
                ],
                "avatar": null,
                "lastLoginIp": null,
                "lastLoginTime": null,
                "deleted": false
            }
        ],
        "end": true,
        "empty": false,
        "startIndex": 0,
        "totalPage": 1
    }
}

```


####  è´¦å·å‘˜è¯¦æƒ…

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/admin/admin/read |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | æ˜¯ | int  |  ç®¡ç†å‘˜Id |  |


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "id": 2,
        "username": "xiaogang",
        "gender": 1,
        "mobile": "15201008961",
        "password": null,
        "belongTo": null,
        "status": 1,
        "privilege": null,
        "type": 1,
        "addTime": null,
        "updateTime": null,
        "roleIds": null,
        "avatar": null,
        "lastLoginIp": null,
        "lastLoginTime": null,
        "deleted": false
    }
}

```


####  æ·»åŠ ç®¡ç†å‘˜

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post   json          |
|:------------- |:---------------:|
| url      |/admin/admin/create |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| username   | æ˜¯ | string  |  å§“å  |  çœŸå®å§“å |
| gender   | æ˜¯ | int  |  æ€§åˆ«  |   -1 å¥³  1 ç”· 0 æœªçŸ¥ |
| mobile   | æ˜¯ | string  |  æ‰‹æœºå· ||
| password   | æ˜¯ | string  |  å¯†ç  ||
| status   | æ˜¯ | int  |  çŠ¶æ€ | 1  æ­£å¸¸ -1 ç¦æ­¢ç™»é™† |
| roleIds   | æ˜¯ | int[]  |  è§’è‰²ID |  |
| email   | å¦ | string  |  é‚®ç®±åœ°å€ |  |

	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
              
     }
}


```


####  æ›´æ–°ç®¡ç†å‘˜

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post   json          |
|:------------- |:---------------:|
| url      |/admin/admin/update |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | å¦ | int  |  ç®¡ç†å‘˜Id |   æœ‰æ›´æ–°å¦åˆ™æ·»åŠ  |
| username   | æ˜¯ | string  |  å§“å  |  çœŸå®å§“å |
| gender   | æ˜¯ | int  |  æ€§åˆ«  |   -1 å¥³  1 ç”· 0 æœªçŸ¥ |
| mobile   | æ˜¯ | string  |  æ‰‹æœºå· ||
| password   | æ˜¯ | string  |  å¯†ç  ||
| status   | æ˜¯ | int  |  çŠ¶æ€ | 1  æ­£å¸¸ -1 ç¦æ­¢ç™»é™† |
| roleIds   | æ˜¯ | int[]  |  è§’è‰²ID |  |
| email   | å¦ | string  |  é‚®ç®±åœ°å€ |  |

	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
              
     }
}


```



####  æ·»åŠ è§’è‰²

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post    json         |
|:------------- |:---------------:|
| url      |/admin/role/add |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | å¦ | int  |  ç®¡ç†å‘˜Id |   æœ‰æ›´æ–°å¦åˆ™æ·»åŠ  |
| name   | æ˜¯ | string  |  è§’è‰²åç§°  | |
| resources   | å¦ | int[]  | åˆ†é…æƒé™æ•°ç»„IDåˆ—è¡¨  | |

	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
              
     }
}


```




#### è§’è‰²æƒé™

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get   |
|:------------- |:---------------:|
| url      |/admin/role/permissions |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| roleId   | æ˜¯ | int  | è§’è‰²ID  | |

	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "systemPermissions": [ //æƒé™åˆ—è¡¨
            {
                "id": 1, //æƒé™ID
                "label": "ç³»ç»Ÿç®¡ç†:ç®¡ç†å‘˜ç®¡ç†:ç¼–è¾‘", //æ ‡ç­¾
                "api": "POST /admin/update", 
                "children": null //å­èœå•
            }
        ],
        "assignedPermissions": [
            1,2,3,4
        ]  //åˆ†é…çš„æƒé™ID
    }
}

```



#### æ›´æ–°æƒé™

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post json   |
|:------------- |:---------------:|
| url      |/admin/role/permissions |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| roleId   | æ˜¯ | int  | è§’è‰²ID   | |
| permissions   | æ˜¯ | [] int  |   | |



#####  è¯·æ±‚å®ä¾‹

```json

{
    "roleId":1,
    "permissions":[1,2,3,34]
}

```
	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "systemPermissions": [ //æƒé™åˆ—è¡¨
            {
                "id": 1, //æƒé™ID
                "label": "ç³»ç»Ÿç®¡ç†:ç®¡ç†å‘˜ç®¡ç†:ç¼–è¾‘", //æ ‡ç­¾
                "api": "POST /admin/update", 
                "children": null //å­èœå•
            }
        ],
        "assignedPermissions": [
            1,2,3,4
        ]  //åˆ†é…çš„æƒé™ID
    }
}

```



####  åˆ†é¡µæ‹‰å–è§’è‰²åˆ—è¡¨

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/admin/role/list |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| limit   | å¦ | int  |  å•é¡µæ¡æ•° |   |
| page   | å¦ | int  |  å½“å‰é¡µç   | |


	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,   //åˆ†é¡µç›¸å…³
        "totalCount": 1,
        "currentPage": 1,
        "unit": "æ¡",
        "extInfo": null,
        "result": [
            {
                "id": 2, //è§’è‰²ID
                "name": "æµ‹è¯•",//è§’è‰²åç§°
                "privilege": [ //æƒé™æ•°ç»„
                    7
                ],
                "createTime": null //åˆ›å»ºæ—¶é—´
            }
        ],
        "endIndex": 10,
        "startIndex": 0,
        "firstPage": true,
        "lastPage": true,
        "nextPage": 1,
        "previousPage": 1,
        "pageCount": 1
    }
}


```


####  è·å–è§’è‰²è¯¦æƒ…

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/admin/role/read |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | æ˜¯ | int  |  è§’è‰²ID |   |



	


#####  è¿”å›å®ä¾‹

```    

{
    "c": 0,
    "m": null,
    "d": {
        "id": 2,
        "name": "æµ‹è¯•", //è§’è‰²åç§°
        "privilege": [ //è§’è‰²æƒé™
            7
        ],
        "createTime": null
    }
}


```



####  åˆ é™¤è§’è‰²

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      | /admin/role/del |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | æ˜¯ | int  |  è§’è‰²ID |   |



	


#####  è¿”å›å®ä¾‹

```    

{
    "c": 0,
    "m": null,
    "d": {
       
    }
}


```



####  èµ„æºåˆ—è¡¨

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/resources/list |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page   | å¦ | int  |  åˆ†é¡µå· |    |
| limit   | fou | int  |  å•é¡µæ¡æ•° | |

	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "totalCount": 10,
        "currentPage": 1,
        "unit": "æ¡",
        "extInfo": null,
        "startIndex": 0,
        "firstPage": true,
        "lastPage": true,
        "nextPage": 1,
        "previousPage": 1,
        "pageCount": 1,
        "result": [
            {
                "id": 38, //id
                "title": "åˆ é™¤è§’è‰²",  //æ ‡é¢˜
                "path": "/role/del",// url
                "parentId": 29, //çˆ¶èŠ‚ç‚¹ID
                "type": 0, // ç±»å‹ 0 æ™®é€š
                "isMenu": 0, //æ˜¯å¦èœå•é¡¹  0 å¦ 1 æ˜¯
                "createTime": 1577196434017, //åˆ›å»ºæ—¶é—´
                "privilegePos": 0, //æƒé™ä½  éæ‰‹å¡«å€¼
                "privilegeVal": 512, //æƒé™å€¼ éæ‰‹å¡«å€¼
                "needAuth": 1 //æ˜¯å¦éœ€è¦æƒé™æ ¡éªŒ  0 å¦ 1 æ˜¯
            }
        ],
        "endIndex": 10
    }
}


```



####  æ·»åŠ èµ„æº

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/admin/resources/add |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| title   | æ˜¯ | string  |  æ ‡é¢˜ |   |
| path   | æ˜¯ | string  |  è®¿é—®è·¯å¾„  | |
| parentId   | æ˜¯ | int  |  çˆ¶èŠ‚ç‚¹ID  | |
| type   | æ˜¯ | int  |   ç±»å‹ 0 æ™®é€š | |
| isMenu   | å¦ | int  |   æ˜¯å¦èœå• 0 å¦ 1 æ˜¯ | |
| needAuth   | å¦ | int  |   æ˜¯å¦éœ€è¦æƒé™ 0 å¦ 1 æ˜¯ | |


	


#####  è¿”å›å®ä¾‹

```

{
    "c": 0,
    "m": null,
    "d": {
 
 
 	
 	}

}


```


####  è·å–èµ„æºè¯¦æƒ…

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/admin/resources/get |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | æ˜¯ | int  |  æƒé™ID |   |



	


#####  è¿”å›å®ä¾‹

```    

{
    "c": 0,
    "m": null,
    "d": {
        "id": 38, //id
        "title": "åˆ é™¤è§’è‰²",  //æ ‡é¢˜
        "path": "/role/del",// url
        "parentId": 29, //çˆ¶èŠ‚ç‚¹ID
        "type": 0, // ç±»å‹ 0 æ™®é€š
        "isMenu": 0, //æ˜¯å¦èœå•é¡¹  0 å¦ 1 æ˜¯
        "createTime": 1577196434017, //åˆ›å»ºæ—¶é—´
        "privilegePos": 0, //æƒé™ä½  éæ‰‹å¡«å€¼
        "privilegeVal": 512, //æƒé™å€¼ éæ‰‹å¡«å€¼
        "needAuth": 1 //æ˜¯å¦éœ€è¦æƒé™æ ¡éªŒ  0 å¦ 1 æ˜¯
    }
}


```



####  åˆ é™¤èµ„æº

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      | /admin/resources/del |


#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id   | æ˜¯ | int  |  æƒé™ID |   |



	


#####  è¿”å›å®ä¾‹

```    

{
    "c": 0,
    "m": null,
    "d": {
       
    }
}


```
