# ç”¨æˆ·æ¥å£æ–‡æ¡£

[TOC]
## ä¿®è®¢è®°å½•
----
æ—¥æœŸ | ä½œè€… | ä¿®è®¢ç±»å‹ | ä¿®è®¢å†…å®¹ | ç‰ˆæœ¬|
---- | ---- | ---- | ---- | ---- |
2020å¹´07æœˆ03æ—¥|å†·ç«‹çº²|A|æ–°å¢è®¾è®¡æ–¹æ¡ˆ|1.0|

> ã€ä¿®è®¢ç±»å‹ï¼šA-æ–°å¢  M-ä¿®æ”¹ D-åˆ é™¤ã€‘

## èƒŒæ™¯

ç”¨æˆ·æ³¨å†Œç™»å½•ç›¸å…³æ¥å£

## äº§å“è¯´æ˜



## å…³é”®æµç¨‹è¯´æ˜

## æ¥å£è¯´æ˜

### ç™»å½•æµç¨‹è¯´æ˜


#### ç™»å½•å¤´è¯´æ˜

_å°†accessTokenä½œä¸ºè¯·æ±‚å¤´ Authorization: 'token'  å‘é€è¯·æ±‚å³å¯è·å–æƒé™_

#### å¿«æ·ç™»å½•

1. sdk è·å–è®¤è¯ç åè°ƒç”¨ /user/xlogin è·å–token
2. å°†accessTokenä½œä¸ºè¯·æ±‚å¤´ Authorization: 'token'  å‘é€è¯·æ±‚


#### æ‰‹æœºå·ç™»å½•

1. è°ƒç”¨çŸ­ä¿¡å‘é€æ¥å£å‘é€çŸ­ä¿¡éªŒè¯ /user/sendsms 
2. æ‰‹æœºå·æ³¨å†Œç™»å½•è·å–token /user/joinin 
3. å°†accessTokenä½œä¸ºè¯·æ±‚å¤´ Authorization: 'token'  å‘é€è¯·æ±‚

#### å¾®ä¿¡ç™»å½•

1. å¾®ä¿¡æˆæƒå›è°ƒæ¥å£ /oauth2/weixin/callback è·å–ç™»å½•token
2. å°†accessTokenä½œä¸ºè¯·æ±‚å¤´ Authorization: 'token'  å‘é€è¯·æ±‚




#### 1.0 æ‰‹æœºå·å¿«é€Ÿç™»å½•

##### æ¥å£è¯´æ˜

ç»§æ‰¿æ”¯ä»˜å®æ‰‹æœºå·è®¤è¯å¿«æ·ç™»å½•åŠŸèƒ½

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/user/xlogin |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| accessToken      | æ˜¯| string  |  sdk  è·å–çš„è®¤è¯ç  |   |
| deviceId      | æ˜¯| string  |  è®¾å¤‡å· |   |
| deviceType      | å¦| string  |  è®¾å¤‡ç±»å‹ |   1 æ‰‹æœº  2 å¹³æ¿ 3 pc 4 ç”µè„‘|
| os      | å¦| string  |  æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ |  |

#####  é”™è¯¯è¯´æ˜

å…ˆæ•´ç†å¯èƒ½çš„é”™è¯¯ç±»å‹ï¼Œå…·ä½“å¯¹åº”çš„é”™è¯¯ç å®æ–½æ—¶å†ç¡®å®šï¼š

1. éæ³•éªŒè¯ç 



#####  è¿”å›å®ä¾‹
```json
{
    "c": 0,
    "m": null,
    "d": {
        "uid": 10002,
        "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOlsiMTAwMDIiLCJBMTUyMDEwMDg5NjEiXSwiZXhwIjoxNjIyMDE4NjEyfQ.rsnE-c-JoqcQEPtOLmLzeaHj4W59wAsFDs-hSi5Lxm4",
        "accessExpiresIn": 1622018612028,
        "refreshToken": "TYmGcphEhmtqdky",
        "refreshExpiresIn": 1627289012028,
        "user": {
            "uid": 10002,
            "avatar": null, //å¤´åƒ
            "name": null, //æ˜µç§°
            "gender": null, //æ€§åˆ« 1:ç”· -1:å¥³ 0:ä¿å¯† 
            "birthday": null, //ç”Ÿæ—¥
            "status": 0, //
            "mobile": "15201008961", //æ‰‹æœºå·
            "createTime": 1616406091691, //åˆ›å»ºæ—¶é—´
            "updateTime": null,
            "userRole": null, 
            "certStatus": null,
            "workplace": null, //å·¥ä½œåœºæ‰€
            "studySubject": null, //ç ”ç©¶å­¦ç§‘
            "subjectField": null, //ç»†åˆ†é¢†åŸŸ
            "jobTitle": null, //å·¥ä½œå¤´è¡”
            "realName": null, //çœŸå®å§“å
            "admin": false
        },
        "imToken": "eJyrVgrxCdZLrSjILEpVsjI0sjQzMDDQAQuWpRYpWSkZ6RkoQfjFKdmJBQWZKUBlJgYGxpamFpYWEJnMlNS8ksy0TLAGQ6ABRjAtmelAkXTjcO0C-6KosAjnjFC3QHNfV9e8glBH7fCinLSwkvLkjJRUPzc37xyDwHJbqMaSzFyQc8wMzcxNLIwMjWoBxEQwYw__",
        "new": false
    }
}
```


#### 1.1 è·å–çŸ­ä¿¡éªŒè¯ç 

##### æ¥å£è¯´æ˜

ç™»å½•æ—¶ï¼Œè·å–çŸ­ä¿¡å¯†ç çš„åŠŸèƒ½ï¼Œç¨‹åºä¼šæœ‰ä¸€ä¸ªå¼€å…³æ§åˆ¶æ˜¯å¦å¼¹å‡ºåŠ¨æ€é¡µé¢éªŒè¯ç ï¼ˆé˜²æ­¢çŸ­ä¿¡æ¥å£è¢«åˆ·ï¼‰

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/user/sendsms |
| tokenè¯´æ˜      |å¦‚æœæ˜¯æ›´æ¢æ‰‹æœºå·ï¼Œæ ¡éªŒæ‰‹æœºèº«ä»½éœ€è¦ç™»é™†çŠ¶æ€|

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile      | æ˜¯| string  |  ç”¨æˆ·æ³¨å†Œæˆ–ç™»å½•æ—¶æ‰€å¡«çš„æ‰‹æœºå· |   |
| countryCode      | å¦| string  | æ³¨å†Œæˆ–ç™»å½•æ‰‹æœºå·ç çš„å›½é™…åŒºå·| å®¢æˆ·ç«¯éœ€è¦è¿‡æ»¤æ‰éæ•°å­—çš„å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š+86å¤„ç†æˆ86ï¼Œ+1-90å¤„ç†æˆ190ç­‰ã€‚å¦‚æœä¸ä¼ æ­¤å€¼ï¼Œåˆ™é»˜è®¤ä¸ºä¸­å›½åŒºå·86ã€‚ |
| deviceId      | æ˜¯| string  | è®¾å¤‡å·| åªèƒ½æ˜¯æ•°å­—ã€å¤§å°å†™è‹±æ–‡å­—æ¯ç»„æˆï¼Œä¸”é•¿åº¦åœ¨1åˆ°100ä½ä¹‹é—´  |
| smsType  | å¦ | Integer  | å‘çŸ­ä¿¡çš„ç±»å‹ | éªŒè¯ç çš„ä¸‹å‘ç±»å‹ 1æˆ–ä¸å¡«ï¼ˆèµ‹é»˜è®¤å€¼1ï¼‰ï¼šçŸ­ä¿¡éªŒè¯ç  2ï¼šè¯­éŸ³éªŒè¯ç  |
| interfaceType   | æ˜¯ | Integer  | å‘çŸ­ä¿¡çš„æ¥å£ç±»å‹ |1ï¼šæ³¨å†Œç™»å½•æ¥å£çš„å‘çŸ­ä¿¡ 2ï¼šä¿®æ”¹æ‰‹æœºå·çš„å‘çŸ­ä¿¡ï¼Œä¿©æ¥å£åŒºåˆ«åœ¨äºåè€…éœ€è¦æ‰‹æœºå·ä¸èƒ½å­˜åœ¨  4:å…¬ä¼—å·æ‰‹æœºå·ç™»å½• 5:ç”¨æˆ·æ‰‹æœºå‘çŸ­ä¿¡æ ¡éªŒï¼Œç¡®å®šç”¨æˆ·èº«ä»½ï¼ˆç”¨äºæ›´æ¢æ‰‹æœºå·ï¼‰ |
| captcha   | å¦ | Integer  | é¡µé¢åŠ¨æ€éªŒè¯ç  |ç”¨æˆ·è·å–çŸ­ä¿¡éªŒè¯ç è¶…è¿‡è§„å®šæ¬¡æ•°åå¼¹å‡ºé¡µé¢åŠ¨æ€éªŒè¯ç ã€‚è‡ªæµ‹é˜¶æ®µæ’éœ€è¦å¼¹åŠ¨æ€éªŒè¯ç  |
| deviceType   | å¦ | String  |è®¾å¤‡ç±»å‹ ||
| code   | å¦ | string |å‚æ•°ç­¾å |åŸcodeç®—æ³•ï¼šMD5(mobile + deviceId + VERSION_SECRET_KEY + ct)æ·»åŠ ä¸Šå›½é™…åŒºå·åçš„codeç®—æ³•ï¼šMD5(countryCode + mobile + deviceId + VERSION_SECRET_KEY + ct)å¤‡æ³¨ï¼šç”Ÿæˆcodeçš„countryCodeå’Œmobileéƒ½å¿…é¡»æ˜¯è¿‡æ»¤æ‰ç‰¹æ®Šå­—ç¬¦çš„ï¼Œå¦åˆ™ç”Ÿæˆçš„codeä¸æœåŠ¡ç«¯çš„ä¼šåŒ¹é…ä¸ä¸Šã€‚|
| ct   | å¦ | string |æ—¶é—´æˆ³  |æ¥å£è¯·æ±‚æ—¶çš„å½“å‰æ—¶é—´æˆ³|
| loginVersion   | æ˜¯ | Integer | å½“å‰æ”¯æŒç™»å½•çš„ç‰ˆæœ¬å·  |ç›®å‰æ”¯æŒloginVersion=1çš„ç‰ˆæœ¬ç™»å½• |

#####  é”™è¯¯è¯´æ˜

å…ˆæ•´ç†å¯èƒ½çš„é”™è¯¯ç±»å‹ï¼Œå…·ä½“å¯¹åº”çš„é”™è¯¯ç å®æ–½æ—¶å†ç¡®å®šï¼š

1. ç¼ºå°‘å¿…å¡«çš„å‚æ•°ã€‚

2. æ— æ•ˆçš„æ‰‹æœºå·ç ã€‚

3. æ‰‹æœºå·å‘é€éªŒè¯ç æ¬¡æ•°è¶…é™ã€‚

4. ä¸€åˆ†é’Ÿåªèƒ½å‘é€ä¸€æ¡çŸ­ä¿¡ã€‚

5. ç”¨æˆ·æ“ä½œå¼‚å¸¸ã€‚


#####  è¿”å›å®ä¾‹
```json
{
 
  "c": "0"
 
  "m": "æ“ä½œæˆåŠŸ",
 
  "d": {}
 
}
```


#### 1.2 ç”¨æˆ·æ³¨å†Œ/ç™»å½•

##### æ¥å£è¯´æ˜

ç”¨æˆ·é€šè¿‡æ‰‹æœºå·ç æ¥æ”¶çŸ­ä¿¡å¯†ç åï¼Œç™»é™†app

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post     |
|:------------- |:---------------:|
| url      | /user/joinin |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile      | æ˜¯| string  |  ç”¨æˆ·æ³¨å†Œæˆ–ç™»å½•æ—¶æ‰€å¡«çš„æ‰‹æœºå· |  |
| smscode      | æ˜¯| string  | çŸ­ä¿¡å¯†ç  | å¿…é¡»æ˜¯6ä½æ•° |
| deviceId   | æ˜¯ | string  | ç”¨æˆ·çš„è®¾å¤‡id | åˆæ³•å­—ç¬¦é•¿åº¦åœ¨1åˆ°100ä½ä¹‹é—´ |
| deviceType   | å¦ | Integer  | è®¾å¤‡ç±»å‹ | ç”¨æˆ·è®¾å¤‡ç±»å‹ |
| os   | å¦ | string  | æ“ä½œç³»ç»Ÿ |  æ“ä½œç³»ç»Ÿç±»å‹ |

#####  é”™è¯¯è¯´æ˜

1. ç¼ºå°‘å¿…å¡«çš„å‚æ•°ã€‚

2. æ‰‹æœºå·æ ¼å¼é”™è¯¯ã€‚

3. çŸ­ä¿¡å¯†ç æ— æ•ˆã€‚

4. çŸ­ä¿¡å¯†ç æ ¡éªŒå¤±è´¥ã€‚

5. æ‚¨ç™»å½•è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•ã€‚

6. æ³¨å†Œå¤±è´¥ã€‚


#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "uid": 11443, //ç”¨æˆ·ID
        "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOlsiMTE0NDMiLCJBMTUyMDEwMDg5NjEiXSwiZXhwIjoxNTk5MDk4ODIzfQ.ng6CyFi4MTu-HtDRzffWpetApPrzM5z-JKv3a0t8v0g", //ç™»å½•token
        "accessExpiresIn": 1599098823065, //å¤±æ•ˆæ—¶é—´
        "refreshToken": "fMYerhGCyudmIhLUW", //åˆ·æ–°token
        "refreshExpiresIn": 1604369223065, //åˆ·æ–°token å¤±æ•ˆæ—¶é—´
        "user": {
            "uid": 10002,
            "avatar": null, //å¤´åƒ
            "name": null, //æ˜µç§°
            "gender": null, //æ€§åˆ« 1:ç”· -1:å¥³ 0:ä¿å¯† 
            "birthday": null, //ç”Ÿæ—¥
            "status": 0, //
            "mobile": "15201008961", //æ‰‹æœºå·
            "createTime": 1616406091691, //åˆ›å»ºæ—¶é—´
            "updateTime": null,
            "userRole": null, 
            "certStatus": null,
            "workplace": null, //å·¥ä½œåœºæ‰€
            "studySubject": null, //ç ”ç©¶å­¦ç§‘
            "subjectField": null, //ç»†åˆ†é¢†åŸŸ
            "jobTitle": null, //å·¥ä½œå¤´è¡”
            "realName": null, //çœŸå®å§“å
            "admin": false
        }
    }
}

```



#### 1.3 è·å–ç”¨æˆ·ä¿¡æ¯

##### æ¥å£è¯´æ˜

ç™»å½•åè·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æ¥å£

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | get     |
|:------------- |:---------------:|
| url      | /user/get |

#####  è¾“å…¥å‚æ•°

æ— 

#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {
            "uid": 10002,
            "avatar": null, //å¤´åƒ
            "name": null, //æ˜µç§°
            "gender": null, //æ€§åˆ« 1:ç”· -1:å¥³ 0:ä¿å¯† 
            "birthday": null, //ç”Ÿæ—¥
            "status": 0, //
            "mobile": "15201008961", //æ‰‹æœºå·
            "createTime": 1616406091691, //åˆ›å»ºæ—¶é—´
            "updateTime": null,
            "userRole": null, 
            "certStatus": null,
            "workplace": null, //å·¥ä½œåœºæ‰€
            "studySubject": null, //ç ”ç©¶å­¦ç§‘
            "subjectField": null, //ç»†åˆ†é¢†åŸŸ
            "jobTitle": null, //å·¥ä½œå¤´è¡”
            "realName": null, //çœŸå®å§“å
            "admin": false
        }}

```


#### 1.4 é€€å‡ºç™»å½•

##### æ¥å£è¯´æ˜

é€€å‡ºç™»å½•

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | get     |
|:------------- |:---------------:|
| url      | /user/logout |

#####  è¾“å…¥å‚æ•°

æ— 

#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    
    }
}

```


#### 1.5 ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯

##### æ¥å£è¯´æ˜

ä¿®æ”¹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post     |
|:------------- |:---------------:|
| url      | /user/update |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| avatar      | å¦| string  |  å¤´åƒ |  |
| birthday      | å¦| int  | ç”Ÿæ—¥ |   |
| gender   | å¦ | int  | æ€§åˆ« |   1:ç”·  2:å¥³  0:æœªçŸ¥ |
| name   | å¦ | string  | å§“å | ç”¨æˆ·å |
| workplace   | å¦ | string  | å·¥ä½œ | å·¥ä½œ |
| studySubject   | å¦ | string  | ç ”ç©¶å­¦ç§‘ |  |
| subjectField   | å¦ | string  | ç ”ç©¶é¢†åŸŸ |  |
| subjectId   | å¦ | int  | ä¸“ä¸šæ–¹å‘ID |  |
| fieldId   | å¦ | int  | ç»†åˆ†é¢†åŸŸID |  |
| jobTitle   | å¦ | string  | å¤´è¡” |  |
| realName   | å¦ | string  | çœŸå®å§“å |  |


#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    
    }
}

```



#### 1.6 åˆ·æ–°token

##### æ¥å£è¯´æ˜

åˆ·æ–°ç™»å½•token

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post     |
|:------------- |:---------------:|
| url      | /user/token/refresh |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| refreshToken      | æ˜¯| string  |  åˆ·æ–°token|   |


#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 88,
        "uid": 11443,  //ç”¨æˆ·id
        "deviceId": "A15201008961", //è®¾å¤‡å·
        "deviceType": 1, //è®¾å¤‡ç±»å‹
        "os": null, //æ“ä½œç³»ç»Ÿ
        "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOlsiMTE0NDMiLCJBMTUyMDEwMDg5NjEiXSwiZXhwIjoxNTk5MTAyOTY0fQ.0ShFRmKL1pLB9-Bq4vyOHxEvJWU0NqJT74STiA6RHoc",  //access token
        "accessExpiresIn": 1599102964223, // å¤±æ•ˆæ—¶é—´
        "refreshToken": "enIuFVWofatzMTqEyg", //åˆ·æ–°token
        "refreshExpiresIn": 1604373364223, //åˆ·æ–°tokenå¤±æ•ˆæ—¶é—´
        "createTime": null,
        "updateTime": null,
        "pass": "tTofWxX" //è§£å¯†å¯†é’¥
    }
}

```





#### 1.7 æ›´æ–°æ‰‹æœºå·æ¥å£step1

##### æ¥å£è¯´æ˜

éªŒè¯å·²æœ‰æ‰‹æœºå·

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post     |
|:------------- |:---------------:|
| url      | /user/mobile/update/step1 |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile      | æ˜¯| string  |  æ‰‹æœºå·|   |
| smscode      | æ˜¯| string  |  éªŒè¯ç  |  /user/sendsms  interfaceType 5 å‘é€ |


#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {
       "secret":"FnWVgshcWl"
    }
}

```



#### 1.8 æ›´æ–°æ‰‹æœºå·æ¥å£step2

##### æ¥å£è¯´æ˜

éªŒè¯å·²æœ‰æ‰‹æœºå·

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post     |
|:------------- |:---------------:|
| url      | /user/mobile/update/step2 |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile      | æ˜¯| string  |  æ‰‹æœºå·|   |
| smscode      | æ˜¯| string  |  éªŒè¯ç  |  /user/sendsms  interfaceType 2 å‘é€ |
| secret      | æ˜¯| string  |  éªŒè¯ç  |  ç¬¬ä¸€æ­¥éªŒè¯æ‰‹æœºè¿”å›|


#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json
    
{
    "c": 0,
    "m": null,
    "d": {

    }
}

```


#### 1.9 è®¾å¤‡å·å…å¯†ç™»å½•

##### æ¥å£è¯´æ˜

ç»§æ‰¿æ”¯ä»˜å®æ‰‹æœºå·è®¤è¯å¿«æ·ç™»å½•åŠŸèƒ½

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/user/device/login |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| deviceId      | æ˜¯| string  |  è®¾å¤‡å· |   |
| deviceType      | å¦| string  |  è®¾å¤‡ç±»å‹ |    5 å¹¿å‘Šå± |
| os      | å¦| string  |  æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ |  |

#####  é”™è¯¯è¯´æ˜

å…ˆæ•´ç†å¯èƒ½çš„é”™è¯¯ç±»å‹ï¼Œå…·ä½“å¯¹åº”çš„é”™è¯¯ç å®æ–½æ—¶å†ç¡®å®šï¼š

1. éæ³•éªŒè¯ç 



#####  è¿”å›å®ä¾‹
```json
{
    "c": 0,
    "m": null,
    "d": {
        "uid": 11443, //ç”¨æˆ·ID
        "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOlsiMTE0NDMiLCJBMTUyMDEwMDg5NjEiXSwiZXhwIjoxNTk5MDk4ODIzfQ.ng6CyFi4MTu-HtDRzffWpetApPrzM5z-JKv3a0t8v0g", //ç™»å½•token
        "accessExpiresIn": 1599098823065, //å¤±æ•ˆæ—¶é—´
        "refreshToken": "fMYerhGCyudmIhLUW", //åˆ·æ–°token
        "refreshExpiresIn": 1604369223065, //åˆ·æ–°token å¤±æ•ˆæ—¶é—´
        "user": { //ç”¨æˆ·ä¿¡æ¯
            "uid": 11443,  //ç”¨æˆ·ID
            "avatar": "/c/d/e", //ç”¨æˆ·å¤´åƒ
            "name": "èµµå…­", //ç”¨æˆ·æ˜µç§°
            "gender": 1, // æ€§åˆ«  1 ç”·
            "birthday": 153000000, //ç”Ÿæ—¥
            "status": 0, //çŠ¶æ€
            "mobile": "15201008961", //æ‰‹æœºå·
            "createTime": 1590149492786, //åˆ›å»ºæ—¶é—´
            "updateTime": 1590149538735 //æ›´æ–°æ—¶é—´
        },  //im token
        "imToken": "eJyrVgrxCdZLrSjILEpVsjI0sjQzMDDQAQuWpRYpWSkZ6RkoQfjFKdmJBQWZKUBlJgYGxpamFpYWEJnMlNS8ksy0TLAGQ0MTE2OYlsx0oIi5Z7a3ZW5ZZWJBZFaZe65pSHClYaKjX2mpmUdOYkSVqU+QRURmUmWEc2SyLVRjSWYuyDmmlibGJpZGpka1AOQJMOU="
        "bind":{  //ç»‘å®šä¿¡æ¯ï¼Œæœªç»‘å®šåˆ™ä¸ºç©º
            "bindUid":123, //ç»‘å®šç”¨æˆ·ID
            "avatar":"/a", //å¤´åƒ
            "roomId":"1233",// æˆ¿é—´å·
            "name":"æˆ¿é—´å",// æˆ¿é—´å·
            "images":["/xxx"] //æˆ¿é—´å›¾åƒ
        }
    }
}
```



#### 2.0 æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç»‘å®šä¿¡æ¯

##### æ¥å£è¯´æ˜

æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç»‘å®šä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/user/device/mobile_query |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile      | æ˜¯| string  |  æ‰‹æœºå· |   |

#####  é”™è¯¯è¯´æ˜





#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {
        "user": {
            "uid": 12211,
            "avatar": "FqobfidNNFd8D9kTNMD3AIHhEZY4.jpg",
            "name": null,
            "gender": null,
            "birthday": null,
            "status": 0,
            "mobile": "12112131091",
            "createTime": 1597816931995,
            "updateTime": 1597816949338,
            "avatarStatus": 1,
            "userRole": null,
            "admin": false
        },
        "room": {
            "id": "B0GR3CK5FZ",
            "parent": [],
            "name": "ä¸‡é‘«å°é¦†",
            "type": "é¤é¥®æœåŠ¡;å¿«é¤å…;å¿«é¤å…",
            "distance": null,
            "typeCode": "050300",
            "bizType": null,
            "longitude": 116.481957,
            "latitude": 39.996011,
            "pcode": "110000",
            "pname": null,
            "citycode": "010",
            "cityname": null,
            "adcode": "110105",
            "businessArea": "æœ›äº¬",
            "images": [
                "http://resources.kinstalk.com/gfetifkkhop3zbdfhmo9.jpg"
            ],
            "addTime": 1597816966532,
            "updateTime": null,
            "userCount": 5,
            "adname": null,
            "delete": false,
            "roomType": 0,
            "groupCreated": true
        }
    }
}

```



#### 2.0 æ ¹æ®æ‰‹æœºå·ç»‘å®šä¿¡æ¯ 

##### æ¥å£è¯´æ˜

æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç»‘å®šä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/user/device/mobile_bind |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| mobile      | æ˜¯| string  |  æ‰‹æœºå· |   |

#####  é”™è¯¯è¯´æ˜





#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {
        "bindUid": 12211, 
        "avatar": "FqobfidNNFd8D9kTNMD3AIHhEZY4.jpg",
        "roomId": "B0GR3CK5FZ",
        "name": "ä¸‡é‘«å°é¦†",
        "images": [
            "http://resources.kinstalk.com/gfetifkkhop3zbdfhmo9.jpg"
        ]
    }
}
```


#### 2.1 ç”¨æˆ·é…ç½®è·å–

##### æ¥å£è¯´æ˜

æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç»‘å®šä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/user/config/get |

#####  è¾“å…¥å‚æ•°

æ— 

#####  é”™è¯¯è¯´æ˜





#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {
        "uid": 11632,
        "cfg1": true,
        "cfg2": true,
        "createTime": null,
        "updateTime": null
    }
}

```



#### 2.1 ç”¨æˆ·é…ç½®æ›´æ–°

##### æ¥å£è¯´æ˜

æ ¹æ®æ‰‹æœºå·æŸ¥è¯¢ç»‘å®šä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/user/config/update |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| cfg1      | å¦ | boolean  |  é…ç½®1 |   |
| cfg2      | å¦ | boolean  |  é…ç½®2 |   |

#####  é”™è¯¯è¯´æ˜





#####  è¿”å›å®ä¾‹

```json

{
    "c": 0,
    "m": null,
    "d": {
    
    }
}
```



#### 2.2 ç”¨æˆ·è®¤è¯

##### æ¥å£è¯´æ˜

ç”¨æˆ·è®¤è¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/user/cert/commit |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| avatar      | æ˜¯ | string  |  è®¤è¯å¤´åƒ |   |

#####  é”™è¯¯è¯´æ˜





#####  è¿”å›å®ä¾‹

```json

{
    "c": 0,
    "m": null,
    "d": {
    
    }
}
```














